<!--
  Generated template for the AudioPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->


<ion-content padding>
  <audio-track #audioTrack [track]="currentTrack" [autoplay]="true" (onFinish)="onTrackFinished($event)">
    <div style="display: flex" class="controls">
      <button ion-button icon-only clear (click)="audioTrack.canPlay ? audioTrack.play() : next()"><ion-icon name="ios-play-outline" color="danger" icon-only></ion-icon></button>
      <button ion-button icon-only clear (click)="audioTrack.pause()"><ion-icon name="ios-pause-outline" color="danger"></ion-icon></button>
      <button ion-button icon-only clear (click)="next()"><ion-icon name="ios-skip-forward-outline" color="danger"></ion-icon></button>
      <audio-track-progress-bar duration progress [audioTrack]="audioTrack" style="width: 100%; margin: 0 10px"></audio-track-progress-bar>
    </div>
    <div  class="info" >
      <div *ngIf="audioTrack && audioTrack.hasLoaded"><em>{{ audioTrack?.title }}</em></div>
      <ion-spinner *ngIf="audioTrack && audioTrack.isLoading"></ion-spinner>
    </div>
  </audio-track>
</ion-content>
